<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link href="https://fonts.cdnfonts.com/css/so-bad" rel="stylesheet" />

    <style>
      body {
        font-family: "So Extended", sans-serif;
        text-align: center;
        font-size: 25px;
        background-color: lightpink;
      }

      h1 {
        font-family: "So Extended", sans-serif;
        font-size: 50px;
      }

      .row-2 {
        display: flex;
        justify-content: space-around;
        align-items: center;
        flex-wrap: wrap;
      }

      .col {
        flex: 1;
        margin: 10px;
      }

      button {
        margin: 10px;
        padding: 10px;
        font-size: 16px;
        cursor: pointer;
        border: 3px dotted;
        border-radius: 6px;
      }
    </style>
    <title>Tamagotchi Game</title>
  </head>
  <body>
    <h1>CODEICHI</h1>

    <div class="row-2">
      <div class="col">
        <div id="pet">
          <img src="normal.gif" alt="codeichi-vpet" class="codeichi-img" />
        </div>
      </div>

      <div class="col">
        <button onclick="feed()">Feed</button>
        <button onclick="play()">Play</button>
        <button onclick="sleep()">Sleep</button>
        <button onclick="checkStatus()">Check Status</button>
        <button onclick="cleanPoo()">Clean Poo</button>
      </div>
    </div>

    <script>
      var pet = {
        name: "Codeichi",
        hunger: 50,
        happiness: 50,
        energy: 50,
        hasPoo: false,
      };

      function updatePetDisplay() {
        document.getElementById("pet-status").innerHTML = `
          ${pet.name}<br>
          Hunger: ${pet.hunger}<br>
          Happiness: ${pet.happiness}<br>
          Energy: ${pet.energy}
        `;
      }

      function showImage(imagePath, duration) {
        document.getElementById("pet").innerHTML = `
          <img src="${imagePath}" alt="codeichi-vpet" class="codeichi-img"/>
          <div id="pet-status">
            ${pet.name}<br>
            Hunger: ${pet.hunger}<br>
            Happiness: ${pet.happiness}<br>
            Energy: ${pet.energy}
          </div>
        `;
        setTimeout(() => {
          document.getElementById("pet").innerHTML = `
                <img src="${
                  pet.hasPoo ? "poop.gif" : "normal.gif"
                }" alt="codeichi-vpet" class="codeichi-img"/>
                <div id="pet-status">
                    ${pet.name}<br>
                    Hunger: ${pet.hunger}<br>
                    Happiness: ${pet.happiness}<br>
                    Energy: ${pet.energy}
                </div>
            `;
        }, duration);
      }

      function feed() {
        pet.hunger = Math.max(0, pet.hunger - getRandomValue(5, 15));
        pet.happiness += 5;
        pet.energy += 3;
        showImage("eat.gif", 2000); // Show image for 2 seconds
        // Trigger the poo action after feeding
        setTimeout(() => {
          poo();
        }, 2000);
      }

      function play() {
        pet.happiness = Math.max(0, pet.happiness - getRandomValue(5, 15));
        pet.energy -= 5;
        showImage("play.gif", 2000); // Show image for 2 seconds
      }

      function sleep() {
        pet.energy = Math.min(100, pet.energy + getRandomValue(10, 20));
        showImage("sleepy.gif", 2000); // Show image for 2 seconds
      }

      function poo() {
        pet.hasPoo = true;
        showImage("poop.gif", 3000); // Show cleaning image for 3 seconds
        setTimeout(() => {
          showImage("clean.gif", 2000); // Show cleaning image for 2 seconds
          setTimeout(() => {
            cleanPoo();
          }, 2000);
        }, 3000);
      }

      function cleanPoo() {
        pet.hasPoo = false;
        updatePetDisplay();
      }

      function checkStatus() {
        alert(
          `Status of ${pet.name}:\nHunger: ${pet.hunger}\nHappiness: ${pet.happiness}\nEnergy: ${pet.energy}`
        );
      }

      function getRandomValue(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      updatePetDisplay(); // Initial display
    </script>
  </body>
</html>
